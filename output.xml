<?xml version="1.0" encoding="UTF-8"?>
<robot generator="Robot 7.3 (Python 3.12.6 on win32)" generated="2025-06-17T13:23:57.338242" rpa="false" schemaversion="5">
<suite id="s1" name="Get Token Test" source="C:\easylist\tests\get_token_test.robot">
<test id="s1-t1" name="Hae JWT Token" line="13">
<kw name="Create Session" owner="RequestsLibrary">
<msg time="2025-06-17T13:23:57.838016" level="INFO">Creating Session using : alias=auth, url=http://127.0.0.1:8000, headers={},                     cookies={}, auth=None, timeout=None, proxies=None, verify=False,                     debug=0 </msg>
<arg>auth</arg>
<arg>${BASE_URL}</arg>
<doc>Create Session: create a HTTP session to a server</doc>
<status status="PASS" start="2025-06-17T13:23:57.838016" elapsed="0.000000"/>
</kw>
<kw name="Create Dictionary" owner="BuiltIn">
<msg time="2025-06-17T13:23:57.839016" level="INFO">${data} = {'username': 'teppo', 'password': 'testaaja'}</msg>
<var>${data}</var>
<arg>username=${USERNAME}</arg>
<arg>password=${PASSWORD}</arg>
<doc>Creates and returns a dictionary based on the given ``items``.</doc>
<status status="PASS" start="2025-06-17T13:23:57.838016" elapsed="0.001000"/>
</kw>
<kw name="POST On Session" owner="RequestsLibrary">
<msg time="2025-06-17T13:23:58.606972" level="INFO">POST Request : url=http://127.0.0.1:8000/api/token/ 
 path_url=/api/token/ 
 headers={'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Content-Length': '45', 'Content-Type': 'application/json'} 
 body=b'{"username": "teppo", "password": "testaaja"}' 
 </msg>
<msg time="2025-06-17T13:23:58.606972" level="INFO">POST Response : url=http://127.0.0.1:8000/api/token/ 
 status=200, reason=OK 
 headers={'Date': 'Tue, 17 Jun 2025 10:23:58 GMT', 'Server': 'WSGIServer/0.2 CPython/3.12.6', 'Content-Type': 'application/json', 'Vary': 'Accept, origin', 'Allow': 'POST, OPTIONS', 'X-Frame-Options': 'DENY', 'Content-Length': '483', 'X-Content-Type-Options': 'nosniff', 'Referrer-Policy': 'same-origin', 'Cross-Origin-Opener-Policy': 'same-origin'} 
 body={"refresh":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc1MDc2MDYzOCwiaWF0IjoxNzUwMTU1ODM4LCJqdGkiOiI0MGJkN2FmMmViOTk0NTZlODlmMDViZGE2M2Q5NGI2YSIsInVzZXJfaWQiOjJ9.MAnEElyCCeaA_y7Un8idu-9YhFc0vC2DiNwZCRG68k4","access":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzUwMTU5Mzc4LCJpYXQiOjE3NTAxNTU4MzgsImp0aSI6ImJiYzc4ZTcyZTcyNzQ4NDU5ZGFkM2IzNTY2NWVkNTIyIiwidXNlcl9pZCI6Mn0.BK3T3dgUN3evgNjeqbUT9fGm82ugGm91lXW8knfAtEE"} 
 </msg>
<msg time="2025-06-17T13:23:58.606972" level="INFO">${response} = &lt;Response [200]&gt;</msg>
<var>${response}</var>
<arg>auth</arg>
<arg>${LOGIN_ENDPOINT}</arg>
<arg>json=${data}</arg>
<doc>Sends a POST request on a previously created HTTP Session.</doc>
<status status="PASS" start="2025-06-17T13:23:57.839016" elapsed="0.767956"/>
</kw>
<kw name="Should Be Equal As Numbers" owner="BuiltIn">
<msg time="2025-06-17T13:23:58.606972" level="INFO">Argument types are:
&lt;class 'int'&gt;
&lt;class 'str'&gt;</msg>
<arg>${response.status_code}</arg>
<arg>200</arg>
<doc>Fails if objects are unequal after converting them to real numbers.</doc>
<status status="PASS" start="2025-06-17T13:23:58.606972" elapsed="0.000000"/>
</kw>
<kw name="Log" owner="BuiltIn">
<msg time="2025-06-17T13:23:58.606972" level="INFO">{'refresh': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTc1MDc2MDYzOCwiaWF0IjoxNzUwMTU1ODM4LCJqdGkiOiI0MGJkN2FmMmViOTk0NTZlODlmMDViZGE2M2Q5NGI2YSIsInVzZXJfaWQiOjJ9.MAnEElyCCeaA_y7Un8idu-9YhFc0vC2DiNwZCRG68k4', 'access': 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNzUwMTU5Mzc4LCJpYXQiOjE3NTAxNTU4MzgsImp0aSI6ImJiYzc4ZTcyZTcyNzQ4NDU5ZGFkM2IzNTY2NWVkNTIyIiwidXNlcl9pZCI6Mn0.BK3T3dgUN3evgNjeqbUT9fGm82ugGm91lXW8knfAtEE'}</msg>
<arg>${response.json()}</arg>
<doc>Logs the given message with the given level.</doc>
<status status="PASS" start="2025-06-17T13:23:58.606972" elapsed="0.000000"/>
</kw>
<doc>Testaa kirjautumista ja access-tokenin saamista</doc>
<status status="PASS" start="2025-06-17T13:23:57.837018" elapsed="0.769954"/>
</test>
<test id="s1-t2" name="Kirjaudu Väärillä Tunnuksilla" line="21">
<kw name="Create Session" owner="RequestsLibrary">
<msg time="2025-06-17T13:23:58.606972" level="INFO">Creating Session using : alias=auth, url=http://127.0.0.1:8000, headers={},                     cookies={}, auth=None, timeout=None, proxies=None, verify=False,                     debug=0 </msg>
<arg>auth</arg>
<arg>${BASE_URL}</arg>
<doc>Create Session: create a HTTP session to a server</doc>
<status status="PASS" start="2025-06-17T13:23:58.606972" elapsed="0.000000"/>
</kw>
<kw name="Create Dictionary" owner="BuiltIn">
<msg time="2025-06-17T13:23:58.606972" level="INFO">${data} = {'username': 'invalidname', 'password': 'invalidpassword'}</msg>
<var>${data}</var>
<arg>username=${INVALIDUSERNAME}</arg>
<arg>password=${INVALIDPASSWORD}</arg>
<doc>Creates and returns a dictionary based on the given ``items``.</doc>
<status status="PASS" start="2025-06-17T13:23:58.606972" elapsed="0.000000"/>
</kw>
<kw name="Run Keyword And Expect Error" owner="BuiltIn">
<kw name="POST On Session" owner="RequestsLibrary">
<msg time="2025-06-17T13:23:59.334424" level="INFO">POST Request : url=http://127.0.0.1:8000/api/token/ 
 path_url=/api/token/ 
 headers={'User-Agent': 'python-requests/2.32.3', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Content-Length': '58', 'Content-Type': 'application/json'} 
 body=b'{"username": "invalidname", "password": "invalidpassword"}' 
 </msg>
<msg time="2025-06-17T13:23:59.334424" level="INFO">POST Response : url=http://127.0.0.1:8000/api/token/ 
 status=401, reason=Unauthorized 
 headers={'Date': 'Tue, 17 Jun 2025 10:23:59 GMT', 'Server': 'WSGIServer/0.2 CPython/3.12.6', 'Content-Type': 'application/json', 'WWW-Authenticate': 'Bearer realm="api"', 'Vary': 'Accept, origin', 'Allow': 'POST, OPTIONS', 'X-Frame-Options': 'DENY', 'Content-Length': '63', 'X-Content-Type-Options': 'nosniff', 'Referrer-Policy': 'same-origin', 'Cross-Origin-Opener-Policy': 'same-origin'} 
 body={"detail":"No active account found with the given credentials"} 
 </msg>
<msg time="2025-06-17T13:23:59.334424" level="FAIL">HTTPError: 401 Client Error: Unauthorized for url: http://127.0.0.1:8000/api/token/</msg>
<arg>auth</arg>
<arg>${LOGIN_ENDPOINT}</arg>
<arg>json=${data}</arg>
<doc>Sends a POST request on a previously created HTTP Session.</doc>
<status status="FAIL" start="2025-06-17T13:23:58.606972" elapsed="0.727452">HTTPError: 401 Client Error: Unauthorized for url: http://127.0.0.1:8000/api/token/</status>
</kw>
<arg>*401*</arg>
<arg>POST On Session</arg>
<arg>auth</arg>
<arg>${LOGIN_ENDPOINT}</arg>
<arg>json=${data}</arg>
<doc>Runs the keyword and checks that the expected error occurred.</doc>
<status status="PASS" start="2025-06-17T13:23:58.606972" elapsed="0.727452"/>
</kw>
<doc>Kirjautuu API:iin väärillä tunnuksilla ja palauttaa 401</doc>
<status status="PASS" start="2025-06-17T13:23:58.606972" elapsed="0.727452"/>
</test>
<status status="PASS" start="2025-06-17T13:23:57.338242" elapsed="1.996182"/>
</suite>
<statistics>
<total>
<stat pass="2" fail="0" skip="0">All Tests</stat>
</total>
<tag>
</tag>
<suite>
<stat name="Get Token Test" id="s1" pass="2" fail="0" skip="0">Get Token Test</stat>
</suite>
</statistics>
<errors>
</errors>
</robot>
